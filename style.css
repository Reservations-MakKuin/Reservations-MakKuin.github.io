body {
    display: flex;
    flex-direction: column; /* Променяме на колона за мобилни */
    align-items: center; /* Центрираме съдържанието */
    margin: 0; /* Премахваме излишните маргини */
    padding: 10px; /* Добавяме лек падинг около тялото */
    background-color: #FFFCFF;
    font-family: sans-serif; /* Добавяме font-family за тялото */
}

button {
    width: auto; /* Автоматична ширина за бутони */
    min-width: 90px; /* Минимална ширина за бутоните */
    cursor: pointer;
    box-shadow: 0px 0px 2px rgb(132, 126, 126);
    border: none;
    outline: none;
    padding: 8px 15px; /* Увеличаваме падинга за по-лесно докосване */
    border-radius: 5px;
    color: rgb(237, 229, 229);
    font-size: 1rem; /* Оптимизиран размер на шрифта */
    margin: 5px; /* Добавяме малко отстояние */
}

#nextButton,
#backButton,
#kalendari {
    width: auto;
    min-width: 90px;
    margin: 10px auto; /* Центрираме бутоните */
    cursor: pointer;
    border: none;
    outline: none;
    padding: 8px 15px;
    border-radius: 5px;
    color: rgb(170, 46, 46);
    font-size: 1rem;
}

#header,
#headerMovie,
#headerOut,
#headerDC,
#headerPB,
#headerPS,
#headerDisco {
    width: 95%; /* Променяме на проценти за отзивчивост */
    max-width: 1200px; /* Максимална ширина за по-големи екрани */
    margin-left: auto; /* Центрираме */
    margin-right: auto; /* Центрираме */
    border-radius: 17px;
    padding: 10px;
    color: #d36c6c;
    font-size: 26px; /* Ще го намалим с медия заявки */
    font-family: sans-serif;
    display: flex;
    justify-content: space-between;
    align-items: center; /* Центрираме по вертикала */
    flex-wrap: wrap; /* Позволява елементите да се пренареждат */
    background-position: center; /* Осигурява центриране на фоновото изображение */
    background-size: cover; /* Покрива цялата площ */
}

/* Specific background images */
#headerMovie { background-image: url("/assets/Movie-baner.jpg"); }
#headerOut { 
    background-image: url("/assets/test.jpg"); 
    background-color: #f7061268; /* Запазваме цвета, ако изображението липсва */
}
#headerDC { 
    background-image: url("/assets/DC-baner.jpg"); 
    background-color: #fece5e68;
}
#headerPB { 
    background-image: url("/assets/paintball-baner.jpg"); 
    background-color: #88ea576f;
}
#headerPS { 
    background-image: url("/assets/puzzle-baner.jpg"); 
    background-color: #57b2ea5b;
}
#headerDisco { 
    background-image: url("/assets/disco-puzzle-baner.jpg"); 
    background-color: #9333f366;
}

#monthDisplay {
    padding: 0px;
    color: #f7f7fb;
    margin: 10px 0; /* Коригиран маргин */
    font-size: 2em; /* Относителен размер на шрифта */
    text-decoration: double;
    font-weight: bold; /* Използваме font-weight вместо font: bold */
    font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    text-transform: capitalize;
    text-shadow: 2px 2px #969494;
    text-align: center; /* Центриране на текста */
    flex-grow: 1; /* Позволява му да заема наличното място */
}

#header button {
    background-color: #efeff3a2;
}

#container {
    width: 95%; /* Отзивчива ширина */
    max-width: 770px; /* Максимална ширина */
    margin: 20px auto; /* Центриране */
    padding: 10px; /* Добавяме падинг */
}

#weekdays {
    width: 100%; /* Отзивчива ширина */
    display: grid; /* Използваме grid за колоните */
    grid-template-columns: repeat(7, 1fr); /* 7 равни колони */
    color: #247BA0;
    text-align: center;
    font-weight: bold; /* Правим дните от седмицата по-плътни */
    padding: 10px 0;
    background-color: #e2e2e2;
    border-radius: 5px;
}

#weekdays div {
    padding: 5px; /* Намаляваме падинга */
    font-size: 0.9em; /* Относителен размер на шрифта */
}

#calendar {
    width: 100%; /* Отзивчива ширина */
    margin: auto;
    display: grid; /* Използваме grid за дните */
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* Адаптивни колони, мин 100px */
    gap: 5px; /* Разстояние между дните */
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

.day {
    /* width: 120px; Премахваме фиксираната ширина */
    min-height: 80px; /* Минимална височина, може да се намали за мобилни */
    padding: 8px; /* Намаляваме падинга */
    cursor: pointer;
    box-sizing: border-box;
    background-color: rgba(224, 237, 236, 0.352);
    margin: 0; /* Премахваме маргините, gap в grid ги замества */
    box-shadow: 0px 0px 3px #CBD4C2;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    font-size: 1em; /* Относителен размер на шрифта */
    font-weight: bold; /* Използваме font-weight вместо font: bold */
    border-radius: 10px;
    text-align: right; /* Подравняване на номера на деня */
    position: relative;
}

.day:hover {
    background-color: #e8faed;
}

.day.currentDay { /* Използваме .day.currentDay вместо .day+#currentDay */
    background-color: #c6e6f78b;
}

.event, .event2 { /* Обединяваме стиловете */
    font-size: 0.75em; /* Относителен размер на шрифта, по-малък за събития */
    padding: 2px 5px;
    background-color: #58bae4;
    color: rgb(254, 252, 252);
    border-radius: 3px;
    max-height: 45px; /* Намаляваме височината */
    overflow: hidden;
    margin: 1px 0; /* Отстояние само горе/долу */
    white-space: nowrap; /* Предотвратява пренасяне на текст */
    text-overflow: ellipsis; /* Добавя многоточие */
    text-align: left; /* Подравняване на събитията */
}

.event2:hover {
    -ms-transform: scale(1.05); /* IE 9, малко по-малко увеличение */
    -webkit-transform: scale(1.05); /* Safari 3-8 */
    transform: scale(1.05);
}

.padding {
    cursor: default !important;
    background-color: #FFFCFF !important;
    box-shadow: none !important;
}

#newEventModal,
#deleteEventModal,
#blockEventModal { /* Обединяваме модалните прозорци */
    display: none;
    z-index: 20;
    padding: 25px;
    background-color: #e8f4fa;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2); /* По-изразена сянка */
    border-radius: 8px; /* По-заоблени ъгли */
    width: 90%; /* Отзивчива ширина */
    max-width: 600px; /* Максимална ширина */
    position: fixed; /* Фиксирана позиция спрямо viewport-а */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Центриране */
    font-family: sans-serif;
    max-height: 90vh; /* Ограничаваме височината */
    overflow-y: auto; /* Добавяме скрол, ако съдържанието е твърде голямо */
}

#closeButton2 {
    background-color: #40c02f;
    margin: 10px auto; /* Центриране на бутона */
    display: block; /* За да заема собствен ред */
    width: auto;
    padding: 10px 20px;
}

/* INPUTS and SELECTS */
#names, #phone, #komentar, #cakeCode, #age, #kidsNumber, #prise,
#cakeTaste, #HBDName, #kaparoNumber, #kaparo, #eventTitleInput, #form,
#time, #parti, #cake, #pices, #kaparoTime, #kidsMenu {
    padding: 8px; /* Увеличаваме падинга */
    width: 100%; /* Всички на 100% ширина за мобилни */
    box-sizing: border-box;
    margin-bottom: 10px; /* Добавяме отстояние */
    border-radius: 4px;
    outline: none;
    border: 1px solid #ccc; /* Добавяме лека рамка */
    box-shadow: inset 0px 0px 2px rgba(0, 0, 0, 0.1); /* Лека вътрешна сянка */
    color: #333;
    -webkit-appearance: none; /* Премахва стиловете по подразбиране на iOS Safari */
    -moz-appearance: none; /* Премахва стиловете по подразбиране на Firefox */
    appearance: none; /* Премахва стиловете по подразбиране */
    background-color: white;
}

/* Специфични корекции за някои input полета, които могат да бъдат на един ред на десктоп */
@media (min-width: 768px) {
    #names, #phone, #komentar, #cakeTaste, #HBDName {
        width: 48%; /* На десктоп може да са по-малки */
        display: inline-block;
        margin-right: 2%;
    }
    #age, #cakeCode, #kaparo, #kaparoNumber {
        width: 23%;
        display: inline-block;
        margin-right: 2%;
    }
    #kidsNumber, #prise {
        width: 10%;
        display: inline-block;
        margin-right: 2%;
    }
    #quantity, #quantity2 {
        width: 15%; /* Коригираме ширината за quantity */
        display: inline-block;
        margin-right: 5px;
    }
    /* #descript, #descript2 {
        width: 30%;
        display: inline-block;
        margin-right: 5px;
    } */
}


#names.error, #kaparoTime.error, #age.error, #parti.error, #time.error, #phone.error {
    border: 2px solid red;
}

#btnMenu2, #btnMenu { background-color: #2f8bc0; }
#closeButton, #cancelButton { background-color: #40c02f; }
#deleteBtn2, #deleteButton, #deleteBtn { background-color: #d36c6c; }
#saveButton, #editButton, #editBtn { background-color: #2e2bec; }

#modalBackDrop {
    display: none;
    top: 0px;
    left: 0px;
    z-index: 10;
    width: 100vw;
    height: 100vh;
    position: fixed; /* Фиксирана позиция */
    background-color: rgba(0, 0, 0, 0.8);
}

.small {
    float: none; /* Премахваме float за мобилни */
    margin: 0 auto 10px auto; /* Центриране */
    background-color: white;
    width: 150px;
    text-align: center;
    border-radius: 0 0 16px 16px; /* Коригираме радиуса */
    display: block; /* За да заема собствен ред */
}

.small > img {
    max-width: 100px; /* Намаляваме размера на логото в модала */
    max-height: 60px;
    margin: 5px auto;
    display: block;
}

.hedarLogo > img {
    max-width: 120px; /* Намаляваме размера на логото в хедъра */
    max-height: 60px;
    margin: 5px; /* Коригиран маргин */
    display: block;
}
.hedarLogo2 > img {
    max-width: 140px;
    max-height: 80px;
    margin: 5px;
    display: block;
}

#shoDate {
    color: rgb(255, 64, 0);
    text-align: center;
    font-size: 1.2em; /* Относителен размер */
}

h2 {
    color: rgb(59, 62, 228);
    text-align: center;
    font-size: 1.5em; /* Относителен размер */
    margin-bottom: 10px;
}

h3 {
    color: #d36c6c;
    text-align: left;
    font-size: 1.1em; /* Относителен размер */
    margin-top: 15px;
    margin-bottom: 5px;
}

hr.rounded {
    border-top: 2px solid #bbb;
    border-radius: 5px;
    margin: 15px 0;
}

#име, #години, #час, #Коментар, #поръчана, #доставена {
    color: #d36c6c;
    text-shadow: 1px 1px #1b0101;
    display: inline; /* За да са на един ред */
}
#поръчана, #доставена {
    text-shadow: none; /* Премахваме сянката за по-добра четливост */
    font-weight: bold;
}
#поръчана { color: #d36c6c; }
#доставена { color: #10d85d; }


#myBtn {
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 99;
    font-size: 16px; /* Намаляваме размера на шрифта */
    border: none;
    outline: none;
    background-color: red;
    color: white;
    cursor: pointer;
    padding: 10px 15px; /* Намаляваме падинга */
    border-radius: 4px;
}

#myBtn:hover {
    background-color: #555;
}

#notification {
    position: fixed;
    right: 10px; /* По-близо до десния край */
    top: 100px; /* По-високо */
    width: 90%; /* По-широко за мобилни */
    max-width: 300px; /* Максимална ширина */
    box-sizing: border-box;
}

.notification {
    list-style: none;
    background-color: rgb(255, 194, 194);
    box-shadow: 0 0 8px 8px rgba(0, 0, 0, 0.2), 12px 12px 20px 0 rgba(0, 0, 0, 0.19);
    padding: 12px 20px; /* Намаляваме падинга */
    border-radius: 8px;
    margin-bottom: 10px; /* По-малко отстояние */
    cursor: pointer;
    font-size: 0.9em; /* По-малък шрифт */
}

#kaparoData {
    display: none;
}

.p0 { color: #059614; }
.p1 { color: #ff0000; }
.p2 { color: gray; }

.day .tooltiptext, .day .tooltiptext2 { /* Обединяваме подсказките */
    visibility: hidden;
    width: 150px; /* По-голяма ширина за по-добра четливост */
    height: auto;
    background-color: white;
    color: red;
    text-align: center;
    font-size: 0.9em; /* По-малък шрифт */
    border-radius: 6px;
    padding: 10px; /* Намаляваме падинга */
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    position: absolute;
    z-index: 10; /* По-висок z-index */
    left: 50%; /* Центрираме хоризонтално */
    transform: translateX(-50%); /* Корекция за центриране */
    bottom: 100%; /* Показва се над деня */
    margin-bottom: 5px; /* Малко отстояние */
    white-space: normal; /* Позволява пренасяне на текст */
}

.day:hover .tooltiptext, .day:hover .tooltiptext2 {
    visibility: visible;
}

#legend, #legend2, #legend3 {
    position: static; /* Премахваме абсолютното позициониране */
    margin: 10px auto; /* Центрираме и добавяме отстояние */
    background-color: white;
    text-align: center;
    font-size: 0.9em;
    border-radius: 16px;
    padding: 5px 10px;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    z-index: 1;
    width: 90%; /* Отзивчива ширина */
    max-width: 300px; /* Максимална ширина */
}
#legend { color: red; } /* Цветове за легендите */
#legend2 { color: black; }
#legend3 { color: green; }

/* MEDIA QUERIES */

@media (max-width: 768px) {
    body {
        font-size: 14px;
        padding: 5px;
    }

    #header, #headerMovie, #headerOut, #headerDC, #headerPB, #headerPS, #headerDisco {
        flex-direction: column; /* Елементите в хедъра се подреждат вертикално */
        font-size: 20px;
        padding: 5px;
        width: 100%; /* Заемат пълна ширина */
    }

    #monthDisplay {
        font-size: 1.5em;
        margin: 5px 0;
    }

    #headerDC > div {
        display: flex; /* За бутоните в хедъра */
        width: 100%;
        justify-content: space-around;
        margin-top: 10px;
    }

    #nextButton, #backButton, #kalendari {
        width: 45%; /* Бутоните заемат почти половината ширина */
        margin: 5px 0;
        font-size: 0.9rem;
        padding: 6px 10px;
    }

    #container {
        width: 100%;
        padding: 5px;
        margin: 10px auto;
    }

    #weekdays {
        font-size: 0.8em;
        padding: 5px 0;
    }

    .day {
        min-height: 70px; /* По-малка височина за дни */
        font-size: 0.9em;
        padding: 5px;
    }

    .event, .event2 {
        font-size: 0.7em;
        padding: 1px 3px;
        max-height: 35px;
    }

    #newEventModal, #deleteEventModal, #blockEventModal {
        padding: 15px;
        width: 95%; /* По-голяма ширина на модалите */
    }
    
    /* INPUTS and SELECTS for smaller screens */
    #names, #phone, #komentar, #cakeCode, #age, #kidsNumber, #prise,
    #cakeTaste, #HBDName, #kaparoNumber, #kaparo, #eventTitleInput, #form,
    #time, #parti, #cake, #pices, #kaparoTime, #kidsMenu {
        width: 100%; /* Всички на 100% ширина */
        margin-right: 0;
        display: block;
    }

    #btnMenu2, #btnMenu, #saveButton, #editButton, #editBtn,
    #closeButton, #cancelButton, #deleteBtn2, #deleteButton, #deleteBtn {
        width: 100%; /* Всички бутони на 100% ширина */
        margin-right: 0;
        margin-bottom: 10px; /* Отстояние между бутоните */
        padding: 10px;
    }

    .small {
        margin-bottom: 15px;
    }

    #notification {
        right: 5px;
        width: calc(100% - 10px);
    }
    .notification {
        padding: 10px 15px;
    }

    .day .tooltiptext, .day .tooltiptext2 {
        width: 100px; /* Намаляваме ширината на подсказките */
        font-size: 0.8em;
        padding: 5px;
    }
}

@media (max-width: 480px) {
    body {
        font-size: 13px;
    }

    #header, #headerMovie, #headerOut, #headerDC, #headerPB, #headerPS, #headerDisco {
        font-size: 18px;
    }
    #monthDisplay {
        font-size: 1.3em;
    }
    #nextButton, #backButton, #kalendari {
        font-size: 0.8rem;
        padding: 5px 8px;
    }

    #weekdays {
        font-size: 0.7em;
    }
    .day {
        min-height: 60px;
        font-size: 0.8em;
    }
    .event, .event2 {
        font-size: 0.65em;
    }

    #newEventModal, #deleteEventModal, #blockEventModal {
        padding: 10px;
    }

    .day .tooltiptext, .day .tooltiptext2 {
        width: 80px;
        font-size: 0.7em;
        padding: 3px;
    }
}